
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Inner Weather</title>
  <link rel="manifest" href="manifest.json" />
  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background: #000;
      color: #FFD700;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      font-size: 2.5em;
      margin: 1em 0 0.5em;
    }

    .slider-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 20px;
      gap: 10px;
    }

    .slider-box {
      background: #222;
      border-radius: 10px;
      padding: 10px;
      width: 100px;
    }

    .slider-box label {
      display: block;
      margin-bottom: 5px;
    }

    input[type="range"] {
      width: 100%;
    }

    button {
      background-color: #FFD700;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      font-size: 1em;
      border-radius: 8px;
      font-weight: bold;
    }

    canvas {
      display: block;
      margin: 50px auto 30px;
      background: transparent;
    }

    #output {
      margin-top: 20px;
      font-style: italic;
      color: #ffed8b;
      font-size: 1.1em;
    }

    #deepModeToggle {
      margin-bottom: 40px;
    }
  </style>
</head>
<body>
  <h1>Inner Weather</h1>
  <div class="slider-container" id="sliders">
    <div class="slider-box"><label>joy</label><input type="range" min="0" max="100" value="50" id="joy" /></div>
    <div class="slider-box"><label>grief</label><input type="range" min="0" max="100" value="50" id="grief" /></div>
    <div class="slider-box"><label>anxiety</label><input type="range" min="0" max="100" value="50" id="anxiety" /></div>
    <div class="slider-box"><label>desire</label><input type="range" min="0" max="100" value="50" id="desire" /></div>
    <div class="slider-box"><label>love</label><input type="range" min="0" max="100" value="50" id="love" /></div>
    <div class="slider-box"><label>anger</label><input type="range" min="0" max="100" value="50" id="anger" /></div>
    <div class="slider-box"><label>wonder</label><input type="range" min="0" max="100" value="50" id="wonder" /></div>
    <div class="slider-box"><label>emptiness</label><input type="range" min="0" max="100" value="50" id="emptiness" /></div>
    <div class="slider-box"><label>clarity</label><input type="range" min="0" max="100" value="50" id="clarity" /></div>
    <div class="slider-box"><label>longing</label><input type="range" min="0" max="100" value="50" id="longing" /></div>
    <div class="slider-box"><label>shame</label><input type="range" min="0" max="100" value="50" id="shame" /></div>
    <div class="slider-box"><label>peace</label><input type="range" min="0" max="100" value="50" id="peace" /></div>
  </div>

  <button onclick="generateWeather()">Generate Weather</button>
  <button onclick="resetSliders()">Reset</button>
  <br />
  <button id="deepModeToggle" onclick="toggleDeepMode()">Toggle Deep Mode</button>

  <div id="output"></div>

  <canvas id="sigilCanvas" width="300" height="300"></canvas>

  <script>
    const emotions = ["joy", "grief", "anxiety", "desire", "love", "anger", "wonder", "emptiness", "clarity", "longing", "shame", "peace"];
    const canvas = document.getElementById("sigilCanvas");
    const ctx = canvas.getContext("2d");

    function generateWeather() {
      const selected = emotions.filter(e => document.getElementById(e).value > 70);
      const symbols = ["❤", "✴️", "❄️", "✨", "🌕", "⚡", "🌊", "☁️", "❤️‍🔥", "🌀", "🕊️", "🪐"];
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const radius = 100;
      selected.forEach((e, i) => {
        const angle = (2 * Math.PI / selected.length) * i;
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        ctx.font = "24px serif";
        ctx.fillText(symbols[i % symbols.length], x, y);
      });
      document.getElementById("output").innerText = selected.length > 0 ?
        `You are moved by ${selected.join(", ")}.` : "You are still, like calm water.";
    }

    function resetSliders() {
      emotions.forEach(e => document.getElementById(e).value = 50);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      document.getElementById("output").innerText = "";
    }

    function toggleDeepMode() {
      document.body.classList.toggle("deep");
    }
  </script>
</body>
</html>
